(this["webpackJsonpfont-end"]=this["webpackJsonpfont-end"]||[]).push([[0],{132:function(e,t,a){},133:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(29),c=a.n(r),i=(a(132),a(44)),l=a(13),o=(a(133),a(7)),d=a(8),u=a(15),m=a(16),j=a(18),b=a(49),p=a(6),h=a.n(p),E=a(17),f=a(50),v=a.n(f),S="http://localhost:8000/api/users",g=function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a,s){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"FILTER_USERS_LIST_REQUEST"}),n=s(),r=n.users,c=r.list.filter((function(t){return t.name.includes(e)})),a({type:"FILTER_USERS_LIST_SUCCESS",payload:c})}catch(i){a({type:"FILTER_USERS_LIST_FAIL",payload:i.response&&i.response.data.message?i.response.data.message:i.message})}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},O=function(){return function(){var e=Object(E.a)(h.a.mark((function e(t){var a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_EDIT_RESET"}),t({type:"USER_CREATE_RESET"}),t({type:"USER_DELETE_RESET"}),t({type:"USER_DETAILS_RESET"}),t({type:"USERS_LIST_REQUEST"}),e.next=8,v.a.get(S);case 8:a=e.sent,s=a.data,t({type:"USERS_LIST_SUCCESS",payload:s}),t({type:"FILTER_USERS_LIST_SUCCESS",payload:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t({type:"USERS_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},x=a(1),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(),this.props.filterUsersByName()}},{key:"render",value:function(){var e=this;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:this.props.filteredUsers?Object(x.jsx)("div",{children:Object(x.jsx)("ol",{className:"list-group",children:this.props.filteredUsers.map((function(t,a){return Object(x.jsxs)("li",{onClick:function(a){e.props.history.push("/profile/".concat(t._id))},style:{cursor:"pointer"},className:"list-group-item d-flex justify-content-center",children:[Object(x.jsx)("div",{className:"ml-2 mr-auto",children:Object(x.jsx)("div",{className:"font-weight-bold",children:t.name})}),Object(x.jsx)("div",{children:Object(x.jsx)("img",{style:{width:"150px",height:"150px",objectFit:"cover",objectPosition:"50% 0%"},src:"/".concat(t.userImage),alt:"as"})})]},a)}))})}):null})})}}]),a}(s.Component),_=Object(j.b)((function(e){return{filteredUsers:e.filteredUsers.list}}),(function(e){return Object(b.b)({getUsers:O,filterUsersByName:g},e)}))(Object(l.f)(y)),U=a(262),R=a(268);var T=function(e){var t=Object(j.c)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(U.a,{style:{width:"50%"},className:"input-group mb-3 col-6 offset-3 mt-3",children:Object(x.jsx)(R.a,{placeholder:"Filter by name","aria-label":"Filter by name","aria-describedby":"basic-addon2",onChange:function(e){t(g(e.target.value))}})})})},N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(T,{}),Object(x.jsx)(_,{})]})}}]),a}(s.Component),L=a(40),I=a(33),F=a(72),k=a(30),w=["image/jpg","image/jpeg","image/png"],C=k.b().shape({name:k.c().required().min(2,"Too Short!").max(70,"Too Long!").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),email:k.c().required().email(),img:k.a().test("required","profile image is required",(function(e){return e&&e.length>0})).test("fileSize","File too large",(function(e){try{return e&&e[0].size<=20971520}catch(t){}})).test("fileFormat","Unsupported Format",(function(e){try{return e&&w.includes(e[0].type)}catch(t){}}))});var D=function(e){var t,a,n,r=e.history,c=Object(I.d)({resolver:Object(F.a)(C),defaultValues:{name:"",email:"",img:""}}),i=c.register,l=c.handleSubmit,o=c.formState.errors,d=Object(j.d)((function(e){return e.userCreate})),u=Object(j.c)();return Object(s.useEffect)((function(){d.success&&r.push("/")})),Object(x.jsx)(x.Fragment,{children:d.loading?Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("div",{className:"spinner-border",style:{width:"10rem",height:"10rem"},role:"status"})}):Object(x.jsx)("form",{onSubmit:l((function(e){var t=function(e){var t=new FormData;return t.append("name",e.name),t.append("email",e.email),t.append("userImage",e.img[0]),t}(e);u(function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var s,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_CREATE_REQUEST"}),t.next=4,v.a.post("".concat(S,"/register"),e);case 4:s=t.sent,n=s.data,a({type:"USER_CREATE_SUCCESS",payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"USER_CREATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))})),children:Object(x.jsxs)("div",{style:{width:"50%"},className:"m-3",children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label",children:"Name"}),Object(x.jsx)("input",Object(L.a)({type:"text",className:o.name?"form-control is-invalid":"form-control"},i("name"))),Object(x.jsx)("div",{className:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{id:"validationServerUsernameFeedback",className:"invalid-feedback",children:null===(t=o.name)||void 0===t?void 0:t.message})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label",children:"Email"}),Object(x.jsx)("input",Object(L.a)({type:"text",className:o.email?"form-control is-invalid":"form-control"},i("email"))),Object(x.jsx)("div",{className:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{id:"validationServerUsernameFeedback",className:"invalid-feedback",children:null===(a=o.email)||void 0===a?void 0:a.message})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"upload your photo"}),Object(x.jsx)("input",Object(L.a)({className:o.img?"form-control is-invalid":"form-control",type:"file",id:"formFile",onClick:function(e){console.log(e.target.files[0])}},i("img"))),Object(x.jsx)("div",{className:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{id:"validationServerUsernameFeedback",className:"invalid-feedback",children:null===(n=o.img)||void 0===n?void 0:n.message})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})})},A=a(267),Q=a(263),B=a(266);var z=function(e){return Object(x.jsx)(A.a,{bg:"dark",expand:"lg",variant:"dark",children:Object(x.jsxs)(Q.a,{children:[Object(x.jsx)(A.a.Brand,{as:i.b,to:"/",children:"Users"}),Object(x.jsx)(A.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(x.jsx)(A.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsxs)(B.a,{className:"me-auto",children:[Object(x.jsx)(B.a.Link,{as:i.b,to:"/",children:"Home"}),Object(x.jsx)(B.a.Link,{as:i.b,to:"/register",children:"Register"})]})})]})})},q=a(21),V=a(265),X=a(264);var H=function(e){var t=e.history,a=e.match,n=Object(s.useState)(!1),r=Object(q.a)(n,2),c=r[0],i=r[1],l=function(){return i(!1)},o=Object(j.c)(),d=Object(j.d)((function(e){return e.userDetails})),u=Object(j.d)((function(e){return e.userDelete}));return Object(s.useEffect)((function(){var e=a.params.id;u.success?t.push("/"):o(function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var s,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DETAILS_REQUEST"}),t.next=4,v.a.get("".concat(S,"/").concat(e));case 4:s=t.sent,n=s.data,a({type:"USER_DETAILS_SUCCESS",payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"USER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[u.success]),Object(x.jsx)(x.Fragment,{children:d.details?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{style:{display:"flex"},className:"mt-5",children:[Object(x.jsxs)("ul",{className:"list-group",style:{alignSelf:"flex-start",flex:"0 0 60vw"},children:[Object(x.jsx)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:Object(x.jsxs)("div",{className:"ml-2 mr-auto",children:[Object(x.jsx)("div",{className:"font-weight-bold",children:"Name"}),d.details.name]})}),Object(x.jsx)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:Object(x.jsxs)("div",{className:"ml-2 mr-auto",children:[Object(x.jsx)("div",{className:"font-weight-bold",children:"Email"}),d.details.email]})})]}),Object(x.jsx)("div",{className:"align-self-end",children:Object(x.jsx)("img",{style:{width:"200px",height:"200px",objectFit:"cover",objectPosition:"50% 0%"},src:"/".concat(d.details.userImage),alt:"as"})})]}),Object(x.jsxs)("div",{style:{display:"block"},className:"m-5",children:[Object(x.jsx)("button",{onClick:function(){t.push("/edit/".concat(a.params.id))},type:"button",className:"btn btn-outline-warning ",children:"Edit"}),Object(x.jsx)("button",{onClick:function(){return i(!0)},type:"button",className:"btn btn-outline-danger ml-3",children:"Delete"}),Object(x.jsxs)(V.a,{show:c,onHide:l,children:[Object(x.jsx)(V.a.Header,{closeButton:!0,children:Object(x.jsx)(V.a.Title,{children:"Delete ?"})}),Object(x.jsx)(V.a.Body,{children:"Are you sure about deleting ?"}),Object(x.jsxs)(V.a.Footer,{children:[Object(x.jsx)(X.a,{variant:"secondary",onClick:l,children:"Close"}),Object(x.jsx)(X.a,{variant:"primary",onClick:function(){var e;o((e=d.details._id,function(){var t=Object(E.a)(h.a.mark((function t(a){var s,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DELETE_REQUEST"}),t.next=4,v.a.delete("".concat(S,"/").concat(e));case 4:s=t.sent,n=s.data,a({type:"USER_DELETE_SUCCESS",payload:n}),a({type:"USER_DETAILS_RESET"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"USER_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())),l()},children:"Delete"})]})]})]})]}):Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("div",{className:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status"})})})},P=["image/jpg","image/jpeg","image/png"],$=k.b().shape({name:k.c().min(2,"Too Short!").max(70,"Too Long!").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),email:k.c().email(),img:k.a().test("fileSize","File too large",(function(e){try{return 0===e.length||e[0].size<=20971520}catch(t){console.log(t)}})).test("fileFormat","Unsupported Format",(function(e){try{return 0===e.length||P.includes(e[0].type)}catch(t){}}))});var J=function(e){var t,a,n,r=e.history,c=Object(j.d)((function(e){return e.userEdit})),i=Object(j.d)((function(e){return e.userDetails})),l=Object(j.c)(),o=Object(I.d)({resolver:Object(F.a)($),defaultValues:{name:i.details.name,email:i.details.email,img:""}}),d=o.register,u=o.handleSubmit,m=o.formState.errors;return Object(s.useEffect)((function(){i.success||r.push("/"),c.success&&r.push("/")})),Object(x.jsx)(x.Fragment,{children:c.loading?Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("div",{className:"spinner-border",style:{width:"10rem",height:"10rem"},role:"status"})}):Object(x.jsx)("form",{onSubmit:u((function(e){var t=function(e){var t=new FormData;return t.append("name",e.name),t.append("id",i.details._id),t.append("email",e.email),t.append("userImage",e.img[0]),t}(e);l(function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var s,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_EDIT_REQUEST"}),t.next=4,v.a.put("".concat(S,"/").concat(e.get("id")),e);case 4:s=t.sent,n=s.data,a({type:"USER_EDIT_SUCCESS",payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"USER_EDIT_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))})),children:Object(x.jsxs)("div",{style:{width:"50%"},className:"m-3",children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label",children:"Name"}),Object(x.jsx)("input",Object(L.a)({type:"text",className:m.name?"form-control is-invalid":"form-control"},d("name"))),Object(x.jsx)("div",{className:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{id:"validationServerUsernameFeedback",className:"invalid-feedback",children:null===(t=m.name)||void 0===t?void 0:t.message})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label",children:"Email"}),Object(x.jsx)("input",Object(L.a)({type:"text",className:m.email?"form-control is-invalid":"form-control"},d("email"))),Object(x.jsx)("div",{className:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{id:"validationServerUsernameFeedback",className:"invalid-feedback",children:null===(a=m.email)||void 0===a?void 0:a.message})]}),Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsx)("img",{style:{width:"400px",height:"400px",objectFit:"cover",objectPosition:"50% 0%"},src:"http://localhost:8000/".concat(i.details.userImage),alt:"as"})}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"change your photo"}),Object(x.jsx)("input",Object(L.a)({className:m.img?"form-control is-invalid":"form-control",type:"file",id:"formFile"},d("img"))),Object(x.jsx)("div",{className:"valid-feedback",children:"Looks good!"}),Object(x.jsx)("div",{id:"validationServerUsernameFeedback",className:"invalid-feedback",children:null===(n=m.img)||void 0===n?void 0:n.message})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})})};var M=function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(i.a,{children:[Object(x.jsx)(z,{}),Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{path:"/register",component:D}),Object(x.jsx)(l.a,{path:"/profile/:id",component:H}),Object(x.jsx)(l.a,{path:"/edit/:id",component:J}),Object(x.jsx)(l.a,{exact:!0,path:"/",component:N})]})]})})},W=a(127),Z=Object(b.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LIST_REQUEST":return{loading:!0,list:[]};case"USERS_LIST_SUCCESS":return{loading:!1,list:t.payload};case"USERS_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},userCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_CREATE_REQUEST":return{loading:!0};case"USER_CREATE_SUCCESS":return{loading:!1,success:!0,user:t.payload};case"USER_CREATE_FAIL":return{loading:!1,error:t.payload};case"USER_CREATE_RESET":return{};default:return e}},filteredUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filteredList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_USERS_LIST_REQUEST":return{loading:!0,filteredList:[]};case"FILTER_USERS_LIST_SUCCESS":return{loading:!1,list:t.payload};case"FILTER_USERS_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{details:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return{loading:!0};case"USER_DETAILS_SUCCESS":return{loading:!1,success:!0,details:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:t.payload};case"USER_DETAILS_RESET":return{details:{}};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0};case"USER_DELETE_FAIL":return{loading:!1,error:t.payload};case"USER_DELETE_RESET":return{};default:return e}},userEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_EDIT_REQUEST":return{loading:!0};case"USER_EDIT_SUCCESS":return{loading:!1,success:!0};case"USER_EDIT_FAIL":return{loading:!1,error:t.payload};case"USER_EDIT_RESET":return{};default:return e}}}),G=[W.a],K=b.a.apply(void 0,G)(b.d)(Z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(122),a(259);c.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(j.a,{store:K,children:Object(x.jsx)(M,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[260,1,2]]]);
//# sourceMappingURL=main.c45ff94e.chunk.js.map